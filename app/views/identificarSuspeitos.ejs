<%- include('include/head'); %>
<HTML>
    <head>
        <meta charset="UTF-8">

        <script src="js/jquery-3.5.1.js"></script>
        <script src="js/bootstrap/bootstrap.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="css/style.css">


    </head>
    <body>
        <h1>Identificar Suspeitos</h1>
                    <%console.log('o params é' , params)%>
                    <%console.log(Object.keys(params).length)%>

                            <div id="divA">
                                <div>
                                    <input value="off" class="" id="ckrosto" name="ckrosto" type="checkbox"> <label for="ckrosto">Tatuagem rosto</label>
                                </div>
                                <div>   
                                    <input value="off" class="" id="ckcostas_d" name="ckcostas_d" type="checkbox"> <label for="ckcostas_d">Tatuagem nas costas (Direita)</label>
                                </div>
                                <div>    
                                    <input value="off" class="" id="ckpeito_d" name="ckpeito_d" type="checkbox"> <label for="ckpeito_d">Tatuagem no peito (Direita)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckbarriga_d" name="ckbarriga_d" type="checkbox"> <label for="ckbarriga_d">Tatuagem na barriga (Direita)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckperna_d" name="ckperna_d" type="checkbox"> <label for="ckperna_d">Tatuagem perna (Direita)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckpe_d" name="ckpe_d" type="checkbox"> <label for="ckpe_d">Tatuagem pé (Direita)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckbraco_d" name="ckbraco_d" type="checkbox"> <label for="ckbraço_d">Tatuagem braço (Direita)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckantebraco_d" name="ckantebraco_d" type="checkbox"> <label for="ckantebraco_d">Tatuagem antebraço (Direita)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckmao_d" name="ckmao_d" type="checkbox"> <label for="ckmao_d">Tatuagem Mão (Direita)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckpescoco_d" name="ckpescoco_d" type="checkbox"> <label for="ckpescoco_d">Tatuagem Pescoço (Direita)</label>
                                </div>

                                </div>

                                <div id="divLateral">
                                <div>
                                    <input value="off" class="" id="ckcostas_e" name="ckcostas_e" type="checkbox"> <label for="ckcostas_e">Tatuagem nas costas (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckpeito_e" name="ckpeito_e" type="checkbox"> <label for="ckpeito_e">Tatuagem no peito (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckbarriga_e" name="ckbarriga_e" type="checkbox"> <label for="ckbarriga_e">Tatuagem na barriga (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckperna_e" name="ckperna_e" type="checkbox"> <label for="ckperna_e">Tatuagem perna (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckpe_e" name="ckpe_e" type="checkbox"> <label for="ckpe_e">Tatuagem pé (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckbraco_e" name="ckbraco_e" type="checkbox"> <label for="ckbraço_e">Tatuagem braço (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckantebraco_e" name="ckantebraco_e" type="checkbox"> <label for="ckantebraco_e">Tatuagem antebraço (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckmao_e" name="ckmao_e" type="checkbox"> <label for="ckmao_e">Tatuagem Mão (Esquerda)</label>
                                </div>
                                <div>
                                    <input value="off" class="" id="ckpescoco_e" name="ckpescoco_e" type="checkbox"> <label for="ckpescoco_e">Tatuagem Pescoço (Esquerda)</label>
                                </div>
                            </div>



                                <script>

                                    //DIREITA

                                    function ckrostoChecked(){
                                        var ckrosto = document.getElementById("ckrosto");
                                        ckrosto.setAttribute('value','on');
                                        ckrosto.setAttribute('checked','checked');
                                    }


                                    function ckcostas_dChecked(){
                                        var ckcostas_d = document.getElementById("ckcostas_d");
                                        ckcostas_d.setAttribute('value','on');
                                        ckcostas_d.setAttribute('checked','checked');
                                    }

                                    function ckpeito_dChecked(){
                                        var ckpeito_d = document.getElementById("ckpeito_d");
                                        ckpeito_d.setAttribute('value','on');
                                        ckpeito_d.setAttribute('checked','checked');
                                    }

                                    function ckbarriga_dChecked(){
                                        var ckbarriga_d = document.getElementById("ckbarriga_d");
                                        ckbarriga_d.setAttribute('value','on');
                                        ckbarriga_d.setAttribute('checked','checked');
                                    }

                                    function ckperna_dChecked(){
                                        var ckperna_d = document.getElementById("ckperna_d");
                                        ckperna_d.setAttribute('value','on');
                                        ckperna_d.setAttribute('checked','checked');
                                    }

                                    function ckpe_dChecked(){
                                        var ckpe_d = document.getElementById("ckpe_d");
                                        ckpe_d.setAttribute('value','on');
                                        ckpe_d.setAttribute('checked','checked');
                                    }

                                    function ckbraco_dChecked(){
                                        var ckbraco_d = document.getElementById("ckbraco_d");
                                        ckbraco_d.setAttribute('value','on');
                                        ckbraco_d.setAttribute('checked','checked');
                                    }

                                    function ckantebraco_dChecked(){
                                        var ckantebraco_d = document.getElementById("ckantebraco_d");
                                        ckantebraco_d.setAttribute('value','on');
                                        ckantebraco_d.setAttribute('checked','checked');
                                    }

                                    function ckmao_dChecked(){
                                        var ckmao_d = document.getElementById("ckmao_d");
                                        ckmao_d.setAttribute('value','on');
                                        ckmao_d.setAttribute('checked','checked');
                                    }

                                    function ckpescoco_dChecked(){
                                        var ckpescoco_d = document.getElementById("ckpescoco_d");
                                        ckpescoco_d.setAttribute('value','on');
                                        ckpescoco_d.setAttribute('checked','checked');
                                    }

                                    
                                    //ESQUERDA

                                    function ckcostas_eChecked(){
                                        var ckcostas_e = document.getElementById("ckcostas_e");
                                        ckcostas_e.setAttribute('value','on');
                                        ckcostas_e.setAttribute('checked','checked');
                                    }

                                    function ckpeito_eChecked(){
                                        var ckpeito_e = document.getElementById("ckpeito_e");
                                        ckpeito_e.setAttribute('value','on');
                                        ckpeito_e.setAttribute('checked','checked');
                                    }

                                    function ckbarriga_eChecked(){
                                        var ckbarriga_e = document.getElementById("ckbarriga_e");
                                        ckbarriga_e.setAttribute('value','on');
                                        ckbarriga_e.setAttribute('checked','checked');
                                    }

                                    function ckperna_eChecked(){
                                        var ckperna_e = document.getElementById("ckperna_e");
                                        ckperna_e.setAttribute('value','on');
                                        ckperna_e.setAttribute('checked','checked');
                                    }

                                    function ckpe_eChecked(){
                                        var ckpe_e = document.getElementById("ckpe_e");
                                        ckpe_e.setAttribute('value','on');
                                        ckpe_e.setAttribute('checked','checked');
                                    }

                                    function ckbraco_eChecked(){
                                        var ckbraco_e = document.getElementById("ckbraco_e");
                                        ckbraco_e.setAttribute('value','on');
                                        ckbraco_e.setAttribute('checked','checked');
                                    }

                                    function ckantebraco_eChecked(){
                                        var ckantebraco_e = document.getElementById("ckantebraco_e");
                                        ckantebraco_e.setAttribute('value','on');
                                        ckantebraco_e.setAttribute('checked','checked');
                                    }

                                    function ckmao_eChecked(){
                                        var ckmao_e = document.getElementById("ckmao_e");
                                        ckmao_e.setAttribute('value','on');
                                        ckmao_e.setAttribute('checked','checked');
                                    }

                                    function ckpescoco_eChecked(){
                                        var ckpescoco_e = document.getElementById("ckpescoco_e");
                                        ckpescoco_e.setAttribute('value','on');
                                        ckpescoco_e.setAttribute('checked','checked');
                                    }



                                </script>


                                <%Object.entries(params).forEach(([key, value]) => {%>

                                    <%if(key == 'ckrosto'){%>
                                        <script>ckrostoChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckcostas_d'){%>
                                        <script>ckcostas_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckpeito_d'){%>
                                        <script>ckpeito_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckbarriga_d'){%>
                                        <script>ckbarriga_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckperna_d'){%>
                                        <script>ckperna_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckpe_d'){%>
                                        <script>ckpe_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckbraco_d'){%>
                                        <script>ckbraco_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckantebraco_d'){%>
                                        <script>ckantebraco_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckmao_d'){%>
                                        <script>ckmao_dChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckpescoco_d'){%>
                                        <script>ckpescoco_dChecked();</script>
                                    <%}%>






                                    <%if(key == 'ckcostas_e'){%>
                                        <script>ckcostas_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckpeito_e'){%>
                                        <script>ckpeito_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckbarriga_e'){%>
                                        <script>ckbarriga_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckperna_e'){%>
                                        <script>ckperna_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckpe_e'){%>
                                        <script>ckpe_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckbraco_e'){%>
                                        <script>ckbraco_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckantebraco_e'){%>
                                        <script>ckantebraco_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckmao_e'){%>
                                        <script>ckmao_eChecked();</script>
                                    <%}%>

                                    <%if(key == 'ckpescoco_e'){%>
                                        <script>ckpescoco_eChecked();</script>
                                    <%}%>

                                <%})%>




                <script>
                    $('input[type="checkbox"]').on('change', function(e){
       
                    var loc = location.href;
                    loc = loc.split("?")[0]; // to get the URL till
                    loc+="?";
                    $('input[type="checkbox"]').each(function(i){
                    if(this.checked){
                        loc += "&" + $(this).attr("name") + "=" + $(this).attr("value");
                        }
                    });
                    location.href = loc;
                });

    
                $('input[type="checkbox"]').click(function(){
                if($(this).is(":checked")){
                    $(this).val("on");

                    var id = $(this).value;
                    
                }
                else if($(this).is(":not(:checked)")){
                    $(this).val("");
                }
                });

                </script>

              <br>
            <form action="/consultaPersonalizadaIs" method="POST">
                <div>
                    <label for="local_tatuagem">Selecione o local da tatuagem:</label>

                    <select name="local_tatuagem" id="local_tatuagem">
                        <option name="selecione" value="nenhum">Selecione</option>
                        <option name="txtrosto" value="txtrosto">Rosto</option>
                        <option name="txtcostas_d" value="txtcostas_d">Costas (Direita)</option>
                        <option name="txtpeito_d" value="txtpeito_d">Peito (Direita)</option>
                        <option name="txtbarriga_d" value="txtbarriga_d">Barriga (Direita)</option>
                        <option name="txtperna_d" value="txtperna_d">Perna (Direita)</option>
                        <option name="txtpe_d" value="txtpe_d">Pé (Direita)</option>
                        <option name="txtbraço_d" value="txtbraço_d">Braço (Direita)</option>
                        <option name="txtantebraco_d" value="txtantebraco_d">Antebraço (Direita)</option>
                        <option name="txtmao_d" value="txtmao_d">Mão (Direita)</option>
                        <option name="txtpescoco_e" value="txtpescoco_e">Pescoço (Direita)</option>
                        <option name="txtcostas_e" value="txtcostas_e">Costas (Esquerda)</option>
                        <option name="txtpeito_e" value="txtpeito_e">Peito (Esquerda)</option>
                        <option name="txtbarriga_e" value="txtbarriga_e">Barriga (Esquerda)</option>
                        <option name="txtperna_e" value="txtperna_e">Perna (Esquerda)</option>
                        <option name="txtpe_e" value="txtpe_e">Pé (Esquerda)</option>
                        <option name="txtbraco_e" value="txtbraco_e">Braço (Esquerda)</option>
                        <option name="txtantebraco_e" value="txtantebraco_e">Antebraço (Esquerda)</option>
                        <option name="txtmao_e" value="txtmao_e">Mão (Esquerda)</option>
                        <option name="txtpescoco_e" value="txtpescoco_e">Pescoço (Esquerda)</option>
                    </select>
                    <input id="descricaoTatuagem" name="descricaoTatuagem" placeholder="descrição tatuagem" type="text">

                    <div>
                        <label for="idade">Idade:</label>
                         <select name="idade">
                             <option value="nenhum">Selecione</option>
                             <option value="15-20">15-20</option>
                             <option value="20-25">20-25</option>
                             <option value="25-30">25-30</option>
                             <option value="30-35">30-35</option>
                             <option value="35-40">35-40</option>
                             <option value="40-45">40-45</option>
                             <option value="45-50">45-50</option>
                             <option value="50-55">50-55</option>
                             <option value="55-60">55-60</option>
                             <option value="60">60+</option>
                         </select>
                    </div>
    
                    <div>
                        <label for="altura">Altura:</label>
                         <select name="altura">
                             <option value="nenhum">Selecione</option>
                             <option value="150-155">150-155</option>
                             <option value="155-160">155-160</option>
                             <option value="160-165">160-165</option>
                             <option value="165-170">165-170</option>
                             <option value="170-175">170-175</option>
                             <option value="175-180">175-180</option>
                             <option value="180-185">180-185</option>
                             <option value="185-190">185-190</option>
                             <option value="190">190+</option>
                         </select>
                    </div>
    
                    <div>
                        <label for="cor_pele">Cor Pele:</label>
                         <select name="cor_pele">
                             <option value="nenhum">Selecione</option>
                             <option value="Amarelo">Amarelo</option>
                             <option value="Branco">Branco</option>
                             <option value="Pardo">Pardo</option>
                             <option value="Negro">Negro</option>
                             <option value="Vermelho">Vermelho</option>
                         </select>
                    </div>
    
                    <div>
                        <label for="cor_olhos">Cor Olhos:</label>
                         <select name="cor_olhos">
                             <option value="nenhum">Selecione</option>
                             <option value="Azul">Azul</option>
                             <option value="Verde">Verde</option>
                             <option value="Castanho">Castanho</option>
                             <option value="Preto">Preto</option>
                         </select>
                    </div>
    
                    <div>
                        <label for="tipo_cabelo">Tipo Cabelo:</label>
                         <select name="tipo_cabelo">
                             <option value="nenhum">Selecione</option>
                             <option value="Calvo">Calvo</option>
                             <option value="Ondulado">Ondulado</option>
                             <option value="Encaracolado">Encaracolado</option>
                             <option value="Liso">Liso</option>
                             <option value="Carapinha">Carapinha</option>
                         </select>
                    </div>
    
                    <div>
                        <label for="cor_cabelo">Cor Cabelo:</label>
                         <select name="cor_cabelo">
                             <option value="nenhum">Selecione</option>
                             <option value="Ruivo">Ruivo</option>
                             <option value="Loiro">Loiro</option>
                             <option value="Castanho">Castanho</option>
                             <option value="Preto">Preto</option>
                             <option value="Grisalho">Grisalho</option>
                         </select>
                    </div>


                    <button>Buscar</button>
                </div>
            </form>

            <%if(suspeito.length > 0){%>
                    
                <%for(var i = 0; suspeito.length > i; i++){%>
                            <form id=<%="pdf"+suspeito[i].id%> action=<%="/gerarpdf?id="+suspeito[i].id%> method="POST"></form>
                            <%if(i == 0){%>
                        <div id="DivMeio">
                            <div id="carouselExampleControls" class="carousel"  data-ride="carousel">
                                <div class="carousel-item active" style=" height: 100%; width: 100%;">
                                    <img class="" style="height: 100%; width: 100%;"  src=<%="images/"+suspeito[i].foto_principal+'.png'%> alt="slide">

                                    <button class="" form=<%="pdf"+suspeito[i].id%>>GERAR PDF</button>
                                            

                                </div>

                            <%}else{%>
                                <div class="carousel-item" style=" height: 100%; width: 100%;">
                                    <img class="" style="height: 100%; width: 100%;"   src=<%="images/"+suspeito[i].foto_principal+'.png'%> alt="slide">

                                    <button class="" form=<%="pdf"+suspeito[i].id%>>GERAR PDF</button>
                                </div>
  
                            <%}%>


                            <%if( i === suspeito.length - 1){%>   
                                <a onclick="prev()" class="carousel-control-prev" style="background-color: rgba(223, 223, 223, 0.575)"  role="button" data-slide="prev">
                                    <span onclick="prev()" class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a onclick="prev()" class="carousel-control-next" style="background-color: rgba(223, 223, 223, 0.575)"  role="button" data-slide="next">
                                    <span onclick="next()" class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </div> 
                        </div>
                            <script language="JavaScript" type="text/javascript">
                                function next(){
                                    $('.carousel').carousel('next')
                                    .carousel('pause')
                                }
                    
                                function prev(){
                                    $('.carousel').carousel('prev')
                                    .carousel('pause')
                                }
                    
                            </script>
                            </div>
                            <%}%>
                                            
                <%}%>
            <%}%>

        <script>
            function gerarPDF(){
                $.post()
            }
        </script>
    </body>
</HTML>